server {
    listen       8898;
    server_name  platform.dev-elite-network.com;
    root         /mnt/app/platform.dev-elite-network.com/client/build;

    location / {
        try_files $uri $uri/ /index.html;
    }

    add_header X-Content-Type-Options nosniff;
    add_header X-XSS-Protection "1; mode=block";
    add_header X-Frame-Options SAMEORIGIN;

    # Block WordPress Pingback DDoS attacks
    if ($http_user_agent ~* "WordPress") {
        return 403;
    }

    #browser caching of static assets
    location ~*  \.(jpg|jpeg|png|gif|ico|css|js)$ {
        expires 7d;
    }

    location ~* \.(eot|ttf|woff|woff2|jpg|jpeg|png)$ {
        if ($http_origin ~ "dev-elite-network.com$") {
            add_header "Access-Control-Allow-Origin" $http_origin;
            add_header 'Access-Control-Allow-Credentials' 'true';
        }
    }
}
